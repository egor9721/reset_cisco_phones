# reset_cisco_phones

# Сброс телефонных аппаратов по ssh

## Состав утилиты

Скрипт содержит 2 файла расширения .py.
Файл main.py содержит логику работы утилиты, config.py - необходимые креды для подключения и данные по моделям.

Для работы утилиты необходимо установка пакетов отображенных в файле requirements.txt.
Версия Python на которой была написана утилита 3.8.
 
## Как работать с утилитой
Утилита позволяет выполнять три различные команды на аппаратах:
1. Полный сброс аппарата
2. Сброс сертификатов доверия
3. Перезагрузка аппарата

Возможность выполнения той или иной команды зависит от наличия этой команды на аппарате и корректного заполнения этой команды в конфиг файле.

config.py представляет из себя файл содержащий следующие данные:
1. LOGIN - логин для подключения к аппаратам по ssh 
2. PASSWORD - пароль для подключения к аппаратам по ssh 
3. MODELS - список поддерживаемых моделей

Для изменения списка поддерживаемых аппаратов необходимо в конец списка добавить словарь и обязательно заполнить все поля.
Пример заполнения модели телефона:
{
        'model': 'Cisco 6941',
        'login': 'admin',
        'pwd': '',
        'reset_all': 'reset',
        'reset_cert': 'sec erase',
        'reboot': 'reboot',
        'port': 22
}

Если какого параметра не существует или не известно, то необходимо в качестве значения параметра указать None.
Если есть логин для входа на телефон, но нет пароля, то в пароле указать '' (2 одинарные кавычки).
Параметры reset_all, recet_cert, reboot должны содержать команды для сброса аппарата, сброса сертификатов доверия и перезагрузки аппаратов соответственно.

Утилита работает в консольном режиме.
Для работы необходимо следовать инструкциям самой утилиты и все должно быть ок.

Пример файла для загрузки списка аппаратов приведен в файле example.csv
